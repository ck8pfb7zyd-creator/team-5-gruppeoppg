<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Trafikklys</title>
    <link  rel="stylesheet" href="../style.css">
</head>
<body>

<!-- 
Denne oppgaven løser du med: Funksjoner, Parameter, Onclick og evt setTimeout().

I denne oppgaven skal du lage et trafikklys som bytter fra rødt - til rødt og gult og så til grønt ved hjelp av knapper som bytter hvilke sirkler som har farge - og hvilke farge den har.

1. Lag tre sirkler under hverandre, som skal kunne ha en bakgrunnsfarge. Det øverste kan bli rødt, det i midten kan bli gult/oransje og det nederste grønt.

2. Lag 3 knapper - en før rødt lys, en for rødt og gult og en for grønt lys.

3. Bruk funksjon med parameter, CSS klasser og onclick for å få knappene til å endre lysene.

4. Når du har fått til dette kan du utfordre deg selv og forsøke å finne ut hvordan man kan automatisere trafikklyset ved hjelp av setTimeout()
-->
<div class="trafficlight">
<div class="circles"></div>
<div id= "redCircle" class="circle red"></div>
<div id= "yellowCircle" class="circle yellow"></div>
<div id= "greenCircle" class="circle green"></div>
</div>

<br>
<button onclick="changeLight('redCircle','red')">Rød</button>
<button onclick="changeLight('yellowCircle','yellow')">Gul</button>
<button onclick="changeLight('greenCircle','green')">Grønn</button>
<button onclick="lightAuto()">auto</button>
<br>
<br>


<div class="infoBox">
  Denne koden lager et trafikklys med tre sirkler (rød, gul og grønn) som endrer farge når du trykker på knappene.  
  <code>changeLight(id, color)</code> slår av alle lys (setter dem til grå) og skrur på lyset du valgte ved å endre <code>backgroundColor</code> på riktig sirkel.  
  <code>lightAuto()</code> får trafikklyset til å bytte farger automatisk ved hjelp av <code>setTimeout()</code> som kjører funksjonen på nytt hvert sekund.  
  CSS-en former sirklene, gjør dem runde og legger dem i en svart boks som ser ut som et trafikklys.
</div>
<a href ="../index.html">Hjem</a>


<style>

.trafficlight {
    background-color: black;
    width: 120px;
    padding: 20px;
    border-radius: 20px;

    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 15px;
}

.circles {
    display: flex; 
    flex-direction: column;
    align-items: center;
    gap: 10px;
}

.circle {
    width: 80px;
    height: 80px;
    border-radius: 50%;
    background-color: gray; 
}



</style>


<script>





function changeLight(id,color) {
    document.getElementById("redCircle").style.backgroundColor = "gray"; 
    document.getElementById("yellowCircle").style.backgroundColor = "gray";
    document.getElementById("greenCircle").style.backgroundColor = "gray";

    document.getElementById(id).style.backgroundColor = color; 
}

function lightAuto(){
    const red = document.getElementById("redCircle");
    const yellow = document.getElementById("yellowCircle");
    const green = document.getElementById("greenCircle");
    

    let redLight = red.style.backgroundColor || "gray";
    let yellowLight = yellow.style.backgroundColor || "gray";
    let greenLight = green.style.backgroundColor || "gray";
    
    if (redLight === 'gray' && yellowLight === 'gray'){

    red.style.backgroundColor = "red"; 
    green.style.backgroundColor = "gray";
    }

    else if(redLight === 'red' && yellowLight == 'gray')
    {
    yellow.style.backgroundColor = "yellow";
    red.style.backgroundColor = "gray"; 
    }
    else  
    {
        green.style.backgroundColor = "green";
        yellow.style.backgroundColor = "gray";
    }
    setTimeout(lightAuto, 1000)

    
}


 

</script>

</body>
</html>